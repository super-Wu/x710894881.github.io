ready(function(){var winW=document.documentElement.clientWidth;var winH=document.documentElement.clientHeight;var cenWinW=winW/2;var cenWinH=winH/2;var slide=document.getElementsByClassName('slide');var personFixed=document.getElementsByClassName('personFixed')[0];var aPos=[];for(var i=0;i<slide.length;i++){aPos.push(getPos(slide[i]))}move(slide[0]);var list=slide[1].getElementsByClassName('list')[0];var ol=document.createElement('ol');var html='';listData.forEach(function(elem,i){html+='<li>                   <span>'+elem.time+'</span>                  <div class="txt">                       <p>'+elem.content1+'</p>                        <p>'+elem.content2+'</p>                    </div>              </li>'});ol.innerHTML=html;list.appendChild(ol);var lis=list.querySelectorAll('li');var slideTop2=aPos[1].t;var seesaw=slide[2].getElementsByClassName('seesaw')[0];var infos=slide[2].querySelectorAll('div[class^="infor"]');var seesawImg=slide[2].querySelector('.seesawImg');var clicks=seesawImg.querySelectorAll('span[class^="click"]');console.log(clicks);var onOff=true;seesawImg.addEventListener('click',function(){onOff?addClass('toggle',seesaw):removeClass('toggle',seesaw);if(onOff){addClass('fadeInUp',infos[1]);removeClass('fadeInUp',infos[0]);addClass('click',seesawImg);removeClass('click2',seesawImg)}else{addClass('fadeInUp',infos[0]);removeClass('fadeInUp',infos[1]);addClass('click2',seesawImg);removeClass('click',seesawImg)}onOff=!onOff},false);move(slide[2]);var skillLis=slide[3].querySelectorAll('.skill li');var slideTop4=aPos[3].t;var worksListBtns=slide[3].querySelectorAll('.worksList a');var worksBox=slide[3].querySelector('.worksBox');var worksBoxUl=slide[3].querySelector('.worksBox ul');var worksLis=worksBoxUl.getElementsByTagName('li');var scroll=worksBox.getElementsByClassName('scroll')[0];var scrollSpan=scroll.getElementsByTagName('span')[0];var lastBtn=worksListBtns[0];var html='';for(var i=0;i<worksData.length;i++){html+='<li>             <a href="'+worksData[i].link+'" target="_blank"></a>                <img src="'+worksData[i].img+'" alt="" draggable="false" />             <div class="txt">                   <p>'+worksData[i].text+'</p>                    <a href="'+worksData[i].link+'" target="_blank"></a>                </div>          </li>'}worksBoxUl.innerHTML=html;var liW=worksLis[0].offsetWidth;var worksBoxW=worksBox.offsetWidth;var iMarginR=parseInt(css(worksLis[0],'marginRight'));var len=worksLis.length;worksBoxUl.style.width=(iMarginR+liW)*len+'px';var ulW=worksBoxUl.offsetWidth;scrollSpan.style.width=(worksBoxW*worksBoxW)/ulW+'px';var spanMax=worksBoxW-scrollSpan.offsetWidth;var liMax=ulW-worksBoxW;var leftNum=0;scrollSpan.onmousedown=function(ev){var ev=ev||event;var disX=ev.clientX-this.offsetLeft;document.addEventListener('mousemove',downHandle);function downHandle(ev){var ev=ev||event;leftNum=ev.clientX-disX;slideTo()}document.addEventListener('mouseup',function(){document.removeEventListener('mousemove',downHandle)});return false}mScroll(worksBox,function(){leftNum-=10;slideTo()},function(){leftNum+=10;slideTo()});if(ulW<worksBoxW){scroll.style.display="none";mScroll(worksBox)}function slideTo(){if(leftNum<=0){leftNum=0}else if(leftNum>=spanMax){leftNum=spanMax}var scale=leftNum/spanMax;scrollSpan.style.left=leftNum+'px';worksBoxUl.style.left=-scale*liMax+'px'}move(slide[4]);var menu=document.querySelector('.menu');var menuStr='';for(var i=0;i<slide.length;i++){menuStr+='<a class="'+(i?'':'active')+'" href="javascript:;" data-index="'+i+'"></a>'}menu.innerHTML=menuStr;var as=menu.getElementsByTagName('a');menu.addEventListener('click',function(ev){var ev=ev||event;var target=ev.target||ev.srcElement;if(target.nodeName.toLowerCase()==='a'){if(target.className)return;for(var i=0;i<as.length;i++){as[i].className=''}target.className='active';var scrollPos=document.documentElement.scrollTop||document.body.scrollTop;var t=aPos[target.dataset.index].t;var timer=setInterval(function(){if(t<scrollPos){scrollPos-=30;window.scrollTo(0,scrollPos);if(scrollPos<=t){window.scrollTo(0,t);clearInterval(timer)}}else{scrollPos+=30;window.scrollTo(0,scrollPos);if(scrollPos>=t){window.scrollTo(0,t);clearInterval(timer)}}},16)}},false);window.addEventListener('scroll',function(){var scrollTop=(window.pageYOffset||document.documentElement.scrollTop)+cenWinH;personFixed.style.top=scrollTop-cenWinH/2+'px';if(scrollTop>=slideTop2-cenWinH){for(var i=0;i<lis.length;i++){setTimeout(function(i){addClass('on',lis[i])},800*i,i)}}var num=0;if(scrollTop>=slideTop4-cenWinH){var timer2=setInterval(function(){addClass('fadeIn',skillLis[num]);num++;if(num>=skillLis.length){clearInterval(timer2)}},500)}for(var i=0,len=aPos.length;i<len;i++){as[i].className='';if(scrollTop>=aPos[i].t&&aPos[i+1]&&scrollTop<aPos[i+1].t){as[i].className='active'}else if(scrollTop>=aPos[i].t){as[len-1].className='active'}}},false);function move(obj){var moves=getByClass('move',obj);obj.addEventListener('mousemove',function(ev){var ev=ev||event for(var i=0;i<moves.length;i++){var offset=moves[i].dataset.offset/100;css(moves[i],'transform','translate('+(cenWinW-ev.clientX)*offset+'px,'+(cenWinH-ev.clientY)*offset+'px)')}},false)}});